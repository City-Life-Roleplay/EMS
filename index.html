<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMS - City Life Roleplay</title>
    <style>
        /* COLORI VIOLA E ORO */
        :root { 
            --primary-purple: #4b0082; /* Viola scuro */
            --gold: #d4af37;           /* Oro metallico */
            --bg-dark: #0a0a0a;        /* Sfondo quasi nero */
        }

        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg-dark); font-family: 'Segoe UI', sans-serif; overflow: hidden; }

        /* SCHERMATA CARICAMENTO */
        #loader {
            position: fixed; width: 100%; height: 100%; background: #000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 999;
        }
        #loader img { width: 150px; margin-bottom: 20px; animation: pulse 1.8s infinite; }
        @keyframes pulse { 0% { transform: scale(1); filter: drop-shadow(0 0 5px var(--gold)); } 50% { transform: scale(1.05); filter: drop-shadow(0 0 20px var(--gold)); } 100% { transform: scale(1); filter: drop-shadow(0 0 5px var(--gold)); } }
        .loading-text { color: var(--gold); letter-spacing: 4px; font-size: 14px; text-transform: uppercase; font-weight: bold; }

        /* PAGINA PRINCIPALE */
        #content { display: none; height: 100vh; justify-content: center; align-items: center; overflow-y: auto; padding: 20px; box-sizing: border-box; }
        .form-card { 
            background: #151515; padding: 40px; border-radius: 15px; 
            border: 2px solid var(--gold); box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
            width: 100%; max-width: 450px; text-align: left;
        }
        h2 { text-align: center; color: var(--gold); text-transform: uppercase; margin-top: 0; font-size: 24px; border-bottom: 2px solid var(--primary-purple); padding-bottom: 10px; }
        label { color: var(--gold); font-size: 11px; font-weight: bold; text-transform: uppercase; }
        input, textarea { 
            width: 100%; padding: 12px; margin: 8px 0 20px 0; 
            background: #1e1e1e; border: 1px solid var(--primary-purple); color: white; 
            border-radius: 5px; box-sizing: border-box; 
        }
        input:focus, textarea:focus { border-color: var(--gold); outline: none; box-shadow: 0 0 5px var(--gold); }
        
        button { 
            width: 100%; padding: 15px; background: var(--primary-purple); 
            border: 1px solid var(--gold); color: var(--gold); font-weight: bold; cursor: pointer; 
            border-radius: 5px; text-transform: uppercase; transition: 0.3s; font-size: 16px;
        }
        button:hover { background: var(--gold); color: black; box-shadow: 0 0 20px var(--gold); }
    </style>
</head>
<body>

    <div id="loader">
        <img src="logo.png" alt="City Life Logo">
        <div class="loading-text">City Life Roleplay...</div>
    </div>

    <div id="content">
        <div class="form-card">
            <h2>üöë Candidatura EMS</h2>
            <form id="emsForm">
                <label>Nome e Cognome IC</label>
                <input type="text" id="nome" placeholder="Esempio: Mario Rossi" required>

                <label>ID Discord</label>
                <input type="text" id="discord" placeholder="Esempio: avion#0000" required>

                <label>Disponibilit√† Oraria</label>
                <input type="text" id="orari" placeholder="Es: 15:00 - 23:00" required>

                <label>Esperienze e Motivazioni</label>
                <textarea id="esperienze" rows="5" placeholder="Parlaci di te e perch√© vorresti unirti..." required></textarea>

                <button type="submit">Invia Candidatura</button>
            </form>
        </div>
    </div>

    <script>
        // Gestione Caricamento
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
                document.getElementById('content').style.display = 'flex';
            }, 2500); // 2.5 secondi di caricamento
        };

        // Configurazione Discord
        const WEBHOOK_URL = "METTI_IL_TUO_WEBHOOK_QUI";

        document.getElementById('emsForm').onsubmit = async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerHTML = "INVIANDO...";
            btn.disabled = true;

            const data = {
                embeds: [{
                    title: "üöë NUOVA CANDIDATURA EMS",
                    color: 13936183, // Colore Oro per Discord
                    fields: [
                        { name: "üë§ Nome IC", value: document.getElementById('nome').value, inline: true },
                        { name: "üÜî Discord", value: document.getElementById('discord').value, inline: true },
                        { name: "‚è∞ Orari", value: document.getElementById('orari').value },
                        { name: "üìú Motivazioni", value: document.getElementById('esperienze').value }
                    ],
                    footer: { text: "Sistema Candidature City Life" }
                }]
            };

            try {
                const res = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(data)
                });
                if(res.ok) {
                    alert("‚úÖ Candidatura inviata correttamente!");
                    e.target.reset();
                } else {
                    alert("‚ùå Errore: Controlla se il Webhook √® corretto.");
                }
            } catch (err) {
                alert("‚ùå Errore di connessione!");
            }
            btn.innerHTML = "Invia Candidatura";
            btn.disabled = false;
        };
    </script>
</body>
</html>
